{% extends "layout.twig" %}

{% block title %}Trombinoscope{% endblock title %}

{% block content %}

<div class="well well-sm">

<ul class="list-group">
	<li class="list-group-item">
		{% if paginator.totalItems == 1 %}
			<strong>1</strong> utilisateur trouvé.
		{% else %}
			<strong>{{ paginator.totalItems }}</strong> utilisateurs trouvés.
		{% endif %}
		
		Montre <strong>{{ paginator.currentPageFirstItem }} - {{ paginator.currentPageLastItem }}</strong>.
	</li>
	<li class="list-group-item">
		{{ paginator|raw }}
	</li>
</ul>
	




<div class="rows clearfix">
	{% for user in users %}
		<div class="col-sm-4 col-md-3">
			<div class="thumbnail">
				<div style="width:160px;height:200px;" class="center-block">
					{% if user.trombineUrl %}
						<img width="160" height="200" src="{{ path('trombine.get', {'trombine' : user.trombineUrl }) }}" />
					{% else %}
						<img width="160" height="200" src="{{ app.request.basepath }}/img/no_trombine.png" />
					{% endif %}
				</div>
				<div class="caption">
					<h5>
					{% if user.etatCivil %}
						<p>{{ user.etatCivil.nom }} {{ user.etatCivil.prenom }}</p>
					{% else %}
						<p class="text-warning">Etat civil non rempli.</p>
					{% endif %}
						<small>{{ user.username }}</small>
					</h5>
					<ul class="list-group">
						<li class="list-group-item"><strong>Email : </strong><br />{{ user.email }}</li>
						<li class="list-group-item"><strong>Création du compte : </strong>{{ user.creationDate|date('Y-m-d') }}</li>
						<li class="list-group-item">
							<strong>Personnage : </strong><br />
							{% if user.participant and user.participant.personnage %}
								<a href="{{ path('personnage.admin.detail', {'personnage': user.participant.personnage.id}) }}">{{ user.participant.personnage.publicName }}</a>
							{% else %}
								<span class="text-warning">Pas de personnage</span>
							{% endif %}	
						</li>
						<li class="list-group-item">
							<strong>Groupe : </strong><br />
							{% if user.participant and user.participant.groupe %}
								<a href="{{ path('groupe.detail', {'index': user.participant.groupe.id}) }}">{{ user.participant.groupe.nom }}</a>
							{% else %}
								<span class="text-warning">Pas de groupe</span>
							{% endif %}
						</li>
					</ul>
				</div>
			</div>
		</div>
	{% endfor %}
</div>

{{ paginator|raw }}

</div>
{% endblock content %}