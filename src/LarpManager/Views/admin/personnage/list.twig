{% extends "layout.twig" %}

{% block title %}Personnages{% endblock title %}

{% block content %}

	<ol class="breadcrumb">
		<li><a href="{{ path('homepage') }}">Accueil</a></li>
		<li class="active">Liste des personnages</li>
	</ol>
	
	<div class="well well-sm">

	<ul class="list-group">
		<li class="list-group-item">
			{% if paginator.totalItems == 1 %}
	        	<strong>1</strong> personnage trouvé.
	    	{% else %}
	        	<strong>{{ paginator.totalItems }}</strong> personnages trouvés.
	    	{% endif %}
	
	    	Montre <strong>{{ paginator.currentPageFirstItem }} - {{ paginator.currentPageLastItem }}</strong>.
	   	</li>
	   	<li class="list-group-item">
	   		<a href="{{ path('personnage.admin.add') }}">Ajouter un personnage</a>
	   	</li>
	   	<li class="list-group-item">
	   		<div class="list-group-item"><h6>Rechercher</h6></div>
	   		
	   		<form class="form" action="{{ path('personnage.admin.list') }}" method="POST" {{ form_enctype(form) }}>
				{% form_theme form 'Form/bootstrap_3_horizontal_layout.html.twig' %}
				{{ form(form) }}
	   		</form>
	   		<a href="{{ path('personnage.admin.list') }}">Reset</a>
	   	</li>
	</ul>
	
	
	{{ paginator|raw }}
	<table class="table table-striped table-bordered table-condensed table-hover">
		<thead>
			<tr>
				<th>
					{% if app.request.get('order_dir') == 'ASC' and app.request.get('order_by') == 'id' %}
						<a href="{{ path('personnage.admin.list', {'order_by': 'id', 'order_dir': 'DESC'}) }}">
					{%  else %}
						<a href="{{ path('personnage.admin.list', {'order_by': 'id', 'order_dir': 'ASC'}) }}">
					{% endif %}
						#	
					{% if app.request.get('order_by') == 'id'  %}
						{% if app.request.get('order_dir') == 'ASC' %}
							<span class="caret"></span>
						{%else%}
							<span class="dropup">
 									<span class="caret"></span>
							</span>
						{% endif %}
					{% endif %}
					</a>
				</th>
				<th>
					{% if app.request.get('order_dir') == 'ASC' and app.request.get('order_by') == 'nom' %}
						<a href="{{ path('personnage.admin.list', {'order_by': 'nom', 'order_dir': 'DESC'}) }}">
					{%  else %}
						<a href="{{ path('personnage.admin.list', {'order_by': 'nom', 'order_dir': 'ASC'}) }}">
					{% endif %}
						Nom	
					{% if app.request.get('order_by') == 'nom'  %}
						{% if app.request.get('order_dir') == 'ASC' %}
							<span class="caret"></span>
						{%else%}
							<span class="dropup">
 									<span class="caret"></span>
							</span>
						{% endif %}
					{% endif %}
					</a>
				</th>
				<th>
					Classe
				</th>
				<th>
					Groupe
				</th>
				<th>
					Utilisateur
				</th>
				<th>
					Points d'expériences
				</th>
			</tr>
		</thead>
		<tbody>
			{% for personnage in personnages %}
				<tr>
					<td><a href="{{ path('personnage.admin.update', {'personnage':personnage.id}) }}">{{ personnage.id }}</td>
					<td><a href="{{ path('personnage.admin.detail', {'personnage':personnage.id}) }}">{{ personnage.nom }}</td>
					<td>{{ personnage.classe }}</td>
					<td>{{ personnage.groupe }}</td>
					<td>{{ personnage.participant }}</td>
					<td>
						<a href="{{ path('personnage.admin.xp', {'personnage': personnage.id}) }}">Points d'expériences</a>
					</td>
				</tr>
			{% endfor %}
		</tbody>
	</table>
		
	{{ paginator|raw }}
	</div>

{% endblock content %}