{% extends "layout.twig" %}

{% block title %}Annonces{% endblock title %}

{% block head %}
	{{ parent() }}
	
	{# inclusion du plugin meltdown pour la saisie du post #}
	<link rel="stylesheet" href="{{ app.request.basepath }}/css/meltdown.css" />
{% endblock head %}

{% block content %}

	<div class="container-fluid">
		<div class="row">
			<div class="col-xs-12 col-md-8">
				{{ include("annonce/fragment/form.twig",{
					'legend': 'Ajout d\'une annonce',
					'action': path('annonce.add'), 
					'form' : form}) }}
			</div>
		</div>
	</div>
	
{% endblock content %}

{% block javascript %}

	{{ parent() }}

	{# inclusion du plugin meltdown pour la saisie du post #}   
	<script src="{{ app.request.basepath }}/js/lib/element_resize_detection.js"></script>
    <script src="{{ app.request.basepath }}/js/lib/js-markdown-extra.js"></script>
    <script src="{{ app.request.basepath }}/js/lib/rangyinputs-jquery.min.js"></script>
    <script src="{{ app.request.basepath }}/js/jquery.meltdown.js"></script>
	         
	<script type="text/javascript">
		$(document).ready(function() {
			$('#annonce_text').meltdown({
				openPreview: true,
				sidebyside: true
			});
		});
	</script>

{% endblock javascript %}